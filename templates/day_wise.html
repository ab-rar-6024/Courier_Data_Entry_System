{% extends "layout.html" %}
{% block content %}

<h4>Day Wise (Manual Entry)</h4>

<!-- ENTRY FORM -->
<div class="card p-3 mb-3">
<form method="post">
<div class="row g-2">

<div class="col-md-3">
    <label>Date</label>
    <input type="date" name="entry_date" class="form-control" required>
</div>

<div class="col-md-3">
    <label>Total Weight</label>
    <input type="number" step="0.01" name="total_weight" class="form-control" required>
</div>

<div class="col-md-3">
    <label>Total Sales Amount</label>
    <input type="number" step="0.01" name="total_sales" class="form-control" required>
</div>

<div class="col-md-3 d-flex align-items-end">
    <button name="save" class="btn btn-success w-100">
        <i class="fa fa-save"></i> Save
    </button>
</div>

</div>
</form>
</div>

<!-- FILTER -->
<form method="post" class="card p-3 mb-3">
<div class="row g-2">

<div class="col-md-3">
    <label>From Date</label>
    <input type="date" name="from_date" class="form-control" value="{{ from_date }}">
</div>

<div class="col-md-3">
    <label>To Date</label>
    <input type="date" name="to_date" class="form-control" value="{{ to_date }}">
</div>

<div class="col-md-2 d-flex align-items-end">
    <button class="btn btn-primary w-100">
        <i class="fa fa-filter"></i> Filter
    </button>
</div>

</div>
</form>

<!-- EXPORT -->
<form method="post" action="/day-wise-export">
<input type="hidden" name="from_date" value="{{ from_date }}">
<input type="hidden" name="to_date" value="{{ to_date }}">
<button class="btn btn-success mb-2">
    <i class="fa fa-file-excel"></i> Export to Excel
</button>
</form>

<!-- TABLE -->
<div class="card p-3">
<table class="table table-bordered table-sm">
<thead class="table-dark">
<tr>
<th>SNO</th>
<th>Date</th>
<th>Total Weight</th>
<th>Total Sales Amount</th>
</tr>
</thead>
<tbody>
{% for r in rows %}
<tr>
<td>{{ loop.index }}</td>
<td>{{ r.entry_date }}</td>
<td>{{ r.total_weight }}</td>
<td>{{ r.total_sales }}</td>
</tr>
{% else %}
<tr>
<td colspan="4" class="text-center">No Records</td>
</tr>
{% endfor %}
</tbody>
</table>

<h6 class="text-end mt-2">
<strong>
Grand Total Weight: {{ grand_weight }} |
Grand Total Sales: {{ grand_sales }}
</strong>
</h6>
</div>

{% endblock %}
